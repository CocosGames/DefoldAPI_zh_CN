<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-83690-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-83690-3');
</script>
<title>API reference (dmScript)</title>

<!-- Google Structured Data (https://developers.google.com/search/docs/guides/intro-structured-data) -->
<script type="application/ld+json">
	{
		"@context": "http://schema.org/",
		"@type": "Organization",
		"name": "Defold Foundation",
		"url": "https://www.defold.com",
		"email": "info@defold.com",
		"address": {
			"@type": "PostalAddress",
			"streetAddress": "Postbox 6034",
			"addressLocality": "HÃ¤gersten",
			"addressRegion": "Stockholm",
			"addressCountry": "Sweden",
			"postalCode": "12906"
		},
		"foundingDate": "2020",
		"sameAs": [
			"https://www.facebook.com/Defold",
			"https://www.twitter.com/defold",
			"https://www.github.com/defold",
			"https://www.youtube.com/channel/UCrEYXG15n3V0Y8eK0RbCaLQ"
		]
	}
</script>

<!-- META DATA -->
<meta name="description" content="Defold is a free and open game engine used for development of console, desktop, mobile and web games.">
<meta name="author" content="Defold Foundation" />
<meta name="keywords" content="defold, gameengine, game-engine, game-development, game-dev, gamedev, open-source, opensource, crossplatform, cross-platform, free, nintendo-switch, console, html5, web, android, ios, desktop" />
<meta name="viewport" content="width=device-width, initial-scale=1"><!-- OPEN GRAPH -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://defold.com/ref/stable/dmScript/">
<meta property="og:site_name" content="Defold game engine">
<meta property="og:title" content="API reference (dmScript)">
<meta property="og:description" content="Defold is a free and open game engine used for development of console, desktop, mobile and web games.">
<meta property="og:image" content="https://www.defold.com/images/social/facebook-share.jpg">
<!-- end OPEN GRAPH -->

<!-- TWITTER -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@defold">
<meta name="twitter:title" content="API reference (dmScript)">
<meta name="twitter:description" content="Defold is a free and open game engine used for development of console, desktop, mobile and web games.">
<meta name="twitter:image" content="https://www.defold.com/images/social/twitter-share.jpg">
<!-- end TWITTER -->

<!-- web monetization -->
<meta name="monetization" content="$ilp.uphold.com/QkG86UgXzKq8">

<!-- FONTS -->
<link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>

<!-- favicon -->
<link rel='shortcut icon' type='image/x-icon' href='/images/favicon.ico' />

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/css/normalize.css">
<link rel="stylesheet" type="text/css" href="/css/skeleton.css">
<link rel="stylesheet" type="text/css" href="/css/defold.css">
<link rel="stylesheet" type="text/css" href="/css/fruity.css">
<link rel="stylesheet" type="text/css" href="/css/fontello.css">
<!-- end CSS -->

<!-- SendInBlue CSS -->
<link rel="stylesheet" type="text/css" href="/css/sendinblue.css">
<link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">
<!-- end SendInBlue CSS -->

</head>
<body>
<div id="page">
	<div id="pagecontent">
	<div class="nav dark">
	<div class="container">
		<div class="row">
			<div class="eight columns">
				<ul class="navmenu">
					<li><nobr><a href="/" target=""><span class="octicon" style="fill: #FFF; zoom: 1.25; vertical-align: middle;">
	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M16 9l-3-3V2h-2v2L8 1 0 9h2l1 5c0 .55.45 1 1 1h8c.55 0 1-.45 1-1l1-5h2zm-4 5H9v-4H7v4H4L2.81 7.69 8 2.5l5.19 5.19L12 14z"/></svg>
</span>&nbsp; Defold
</a></nobr></li>
					<li><a href="/product">Product</a></li>
					<li><a href="/showcase">Showcase</a></li>
					<li><a href="/learn">Learn</a></li>
					<li><a href="/assets">Asset&nbsp;Portal</a></li>
					<li><a href="/open">Open&nbsp;Source</a></li>
					<li><a href="//forum.defold.com">Forum</a></li>
					<li style="visibility: hidden"><span class="octicon" style="fill: #FFF; zoom: 1.75; vertical-align: middle;">
	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 6h3V0h2v6h3l-4 4-4-4zm11-4h-4v1h4v8H1V3h4V2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1z"/></svg>
</span>&nbsp;
 Download</li>
				</ul>
				<select class="navdropdown dark-text" onchange="location = this.value;">
					<option value="/">Home</option>
					<option value="/product" >Product</option>
					<option value="/showcase" >Showcase</option>
					<option value="/learn">Learn</option>
					<option value="/assets" >Asset Portal</option>
					<option value="/open" >Open Source</option>
					<option value="//forum.defold.com">Forum</option>
					<option value="/donate" >Donate</option>
					<option value="/download" >Download</option>
					<option value="https://www.github.com/defold">GitHub</option>
				</select>
			</div>
			<div class="four columns">
				<ul class="navmenu right">
					<li><nobr><a href="/donate" target=""><span class="octicon" style="fill: #FFF; zoom: 1.25; vertical-align: middle;">
	<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M9 2c-.97 0-1.69.42-2.2 1-.51.58-.78.92-.8 1-.02-.08-.28-.42-.8-1-.52-.58-1.17-1-2.2-1-1.632.086-2.954 1.333-3 3 0 .52.09 1.52.67 2.67C1.25 8.82 3.01 10.61 6 13c2.98-2.39 4.77-4.17 5.34-5.33C11.91 6.51 12 5.5 12 5c-.047-1.69-1.342-2.913-3-3z"/></svg>
</span>&nbsp; Donate
</a></nobr></li>
					<li><nobr><a href="/download" target=""><span class="octicon" style="fill: #FFF; zoom: 1.35; vertical-align: middle;">
	<svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 10 16"><path fill-rule="evenodd" d="M7 7V3H3v4H0l5 6 5-6H7z"/></svg>
</span>&nbsp; Download
</a></nobr></li>
					<li><nobr><a href="https://www.github.com/defold" target="_blank"><span class="octicon" style="fill: #FFF; zoom: 1.25; vertical-align: middle;">
	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>

</span>&nbsp; GitHub
</a></nobr></li>
				</ul>
			</div>
		</div>
	</div>
</div>


	
	<div class="nav learn light">
	<div class="container">
		<div class="row">
			<div class="nine columns"><ul class="navmenu">
					<li><a href="/examples/animation/basic_tween" class="">Examples </a></li>
					<li><a href="/tutorials/getting-started" class="">Tutorials</a></li>
					<li><a href="/manuals/introduction" class="">Manuals</a></li>
					<li><a href="/ref/stable/go" class="bold">API Reference</a></li>
					<li><a href="/faq/faq" class="">FAQ</a></li>
				</ul>
				<select class="navdropdown" onchange="location = this.value;">
					<option value="/examples/animation/basic_tween" >Examples</option>
					<option value="/tutorials/getting-started" >Tutorials</option>
					<option value="/manuals/introduction" >Manuals</option>
					<option value="/ref/stable/go" selected>API Reference</option>
					<option value="/faq/faq" >FAQ</option>
				</select>
				<div class="right navdropdown compact">
					<form action="/search">
						<input id="search" name="q" type="text" placeholder="Search..."/>
					</form>
				</div></div>
			<div class="three columns">
				<div class="right navmenu compact">
					<form action="/search">
						<input id="search" name="q" type="text" placeholder="Search..."/>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="section lightest">
	<div class="container">
		<div class="row">
			<div class="columns two">
				<ul id="navmenu" class="navmenu ref nobullet"><input id="collapsible_lua" class="toggle" type="checkbox" />
					<label for="collapsible_lua" class="togglelabel">Lua</label>
					<ul class="nobullet"><li style="padding-bottom: 0px;"><a href="/ref/stable/base" style="text-decoration: none;">base</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/bit" style="text-decoration: none;">bit</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/coroutine" style="text-decoration: none;">coroutine</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/debug" style="text-decoration: none;">debug</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/io" style="text-decoration: none;">io</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/math" style="text-decoration: none;">math</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/os" style="text-decoration: none;">os</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/package" style="text-decoration: none;">package</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/socket" style="text-decoration: none;">socket</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/string" style="text-decoration: none;">string</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/table" style="text-decoration: none;">table</a></li></ul><input id="collapsible_defold" class="toggle" type="checkbox" />
					<label for="collapsible_defold" class="togglelabel">Defold</label>
					<ul class="nobullet"><li style="padding-bottom: 0px;"><a href="/ref/stable/buffer" style="text-decoration: none;">buffer</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/builtins" style="text-decoration: none;">builtins</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/camera" style="text-decoration: none;">camera</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/collectionfactory" style="text-decoration: none;">collectionfactory</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/collectionproxy" style="text-decoration: none;">collectionproxy</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/crash" style="text-decoration: none;">crash</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/engine" style="text-decoration: none;">engine</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/factory" style="text-decoration: none;">factory</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/go" style="text-decoration: none;">go</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/gui" style="text-decoration: none;">gui</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/html5" style="text-decoration: none;">html5</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/http" style="text-decoration: none;">http</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/image" style="text-decoration: none;">image</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/json" style="text-decoration: none;">json</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/label" style="text-decoration: none;">label</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/model" style="text-decoration: none;">model</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/msg" style="text-decoration: none;">msg</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/particlefx" style="text-decoration: none;">particlefx</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/physics" style="text-decoration: none;">physics</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/profiler" style="text-decoration: none;">profiler</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/render" style="text-decoration: none;">render</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/resource" style="text-decoration: none;">resource</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/sharedlibrary" style="text-decoration: none;">sharedlibrary</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/sound" style="text-decoration: none;">sound</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/spine" style="text-decoration: none;">spine</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/sprite" style="text-decoration: none;">sprite</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/sys" style="text-decoration: none;">sys</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/tilemap" style="text-decoration: none;">tilemap</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/timer" style="text-decoration: none;">timer</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/vmath" style="text-decoration: none;">vmath</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/window" style="text-decoration: none;">window</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/zlib" style="text-decoration: none;">zlib</a></li></ul><input id="collapsible_c" class="toggle" type="checkbox" checked/>
					<label for="collapsible_c" class="togglelabel">C</label>
					<ul class="nobullet"><li style="padding-bottom: 0px;"><a href="/ref/stable/dmAlign" style="text-decoration: none;">dmAlign</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmArray" style="text-decoration: none;">dmArray</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmBuffer" style="text-decoration: none;">dmBuffer</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmConditionVariable" style="text-decoration: none;">dmConditionVariable</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmConfigFile" style="text-decoration: none;">dmConfigFile</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmConnectionPool" style="text-decoration: none;">dmConnectionPool</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmCrypt" style="text-decoration: none;">dmCrypt</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmDNS" style="text-decoration: none;">dmDNS</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmEngine" style="text-decoration: none;">dmEngine</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmExtension" style="text-decoration: none;">dmExtension</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmGameObject" style="text-decoration: none;">dmGameObject</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmGraphics" style="text-decoration: none;">dmGraphics</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmHash" style="text-decoration: none;">dmHash</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmHid" style="text-decoration: none;">dmHid</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmHttpClient" style="text-decoration: none;">dmHttpClient</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmJson" style="text-decoration: none;">dmJson</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmLog" style="text-decoration: none;">dmLog</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmMath" style="text-decoration: none;">dmMath</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmMutex" style="text-decoration: none;">dmMutex</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmSSLSocket" style="text-decoration: none;">dmSSLSocket</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmScript" style="font-weight: bolder; font-style: italic; text-decoration: none;">dmScript</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmSocket" style="text-decoration: none;">dmSocket</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmStringFunc" style="text-decoration: none;">dmStringFunc</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmThread" style="text-decoration: none;">dmThread</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmTime" style="text-decoration: none;">dmTime</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmURI" style="text-decoration: none;">dmURI</a></li><li style="padding-bottom: 0px;"><a href="/ref/stable/dmWebServer" style="text-decoration: none;">dmWebServer</a></li></ul><input id="collapsible_extension" class="toggle" type="checkbox" />
					<label for="collapsible_extension" class="togglelabel">Extension</label>
					<ul class="nobullet"><li style="padding-bottom: 0px;"><a href="/extension-adinfo/api" style="text-decoration: none;">extension-adinfo</a></li><li style="padding-bottom: 0px;"><a href="/extension-camera/api" style="text-decoration: none;">extension-camera</a></li><li style="padding-bottom: 0px;"><a href="/extension-facebook/api" style="text-decoration: none;">extension-facebook</a></li><li style="padding-bottom: 0px;"><a href="/extension-fbinstant/api" style="text-decoration: none;">extension-fbinstant</a></li><li style="padding-bottom: 0px;"><a href="/extension-firebase-analytics/api" style="text-decoration: none;">extension-firebase-analytics</a></li><li style="padding-bottom: 0px;"><a href="/extension-googleplayinstant/api" style="text-decoration: none;">extension-googleplayinstant</a></li><li style="padding-bottom: 0px;"><a href="/extension-gpgs/api" style="text-decoration: none;">extension-gpgs</a></li><li style="padding-bottom: 0px;"><a href="/extension-iap/api" style="text-decoration: none;">extension-iap</a></li><li style="padding-bottom: 0px;"><a href="/extension-push/api" style="text-decoration: none;">extension-push</a></li><li style="padding-bottom: 0px;"><a href="/extension-review/api" style="text-decoration: none;">extension-review</a></li><li style="padding-bottom: 0px;"><a href="/extension-siwa/api" style="text-decoration: none;">extension-siwa</a></li><li style="padding-bottom: 0px;"><a href="/extension-webmonetization/api" style="text-decoration: none;">extension-webmonetization</a></li><li style="padding-bottom: 0px;"><a href="/extension-websocket/api" style="text-decoration: none;">extension-websocket</a></li><li style="padding-bottom: 0px;"><a href="/extension-webview/api" style="text-decoration: none;">extension-webview</a></li></ul><input id="branch" class="toggle" type="checkbox" checked/>
					<label for="branch" class="togglelabel">Version</label>
					<ul class="nobullet"><li style="padding-left: 2rem; padding-bottom: 0px;"><a href="/ref/alpha/dmScript/" style="text-decoration: none;">alpha</a></li><li style="padding-left: 2rem; padding-bottom: 0px;"><a href="/ref/beta/dmScript/" style="text-decoration: none;">beta</a></li><li style="padding-left: 2rem; padding-bottom: 0px;"><a href="/ref/stable/dmScript/" style="font-weight: bolder; font-style: italic; text-decoration: none;">stable</a></li></ul>
				</ul>
				<select class="navdropdown" onchange="location = this.value;"><option value="/ref/stable/base">base</option><option value="/ref/stable/bit">bit</option><option value="/ref/stable/buffer">buffer</option><option value="/ref/stable/builtins">builtins</option><option value="/ref/stable/camera">camera</option><option value="/ref/stable/collectionfactory">collectionfactory</option><option value="/ref/stable/collectionproxy">collectionproxy</option><option value="/ref/stable/coroutine">coroutine</option><option value="/ref/stable/crash">crash</option><option value="/ref/stable/debug">debug</option><option value="/ref/stable/dmAlign">dmAlign</option><option value="/ref/stable/dmArray">dmArray</option><option value="/ref/stable/dmBuffer">dmBuffer</option><option value="/ref/stable/dmConditionVariable">dmConditionVariable</option><option value="/ref/stable/dmConfigFile">dmConfigFile</option><option value="/ref/stable/dmConnectionPool">dmConnectionPool</option><option value="/ref/stable/dmCrypt">dmCrypt</option><option value="/ref/stable/dmDNS">dmDNS</option><option value="/ref/stable/dmEngine">dmEngine</option><option value="/ref/stable/dmExtension">dmExtension</option><option value="/ref/stable/dmGameObject">dmGameObject</option><option value="/ref/stable/dmGraphics">dmGraphics</option><option value="/ref/stable/dmHash">dmHash</option><option value="/ref/stable/dmHid">dmHid</option><option value="/ref/stable/dmHttpClient">dmHttpClient</option><option value="/ref/stable/dmJson">dmJson</option><option value="/ref/stable/dmLog">dmLog</option><option value="/ref/stable/dmMath">dmMath</option><option value="/ref/stable/dmMutex">dmMutex</option><option value="/ref/stable/dmSSLSocket">dmSSLSocket</option><option value="/ref/stable/dmScript">dmScript</option><option value="/ref/stable/dmSocket">dmSocket</option><option value="/ref/stable/dmStringFunc">dmStringFunc</option><option value="/ref/stable/dmThread">dmThread</option><option value="/ref/stable/dmTime">dmTime</option><option value="/ref/stable/dmURI">dmURI</option><option value="/ref/stable/dmWebServer">dmWebServer</option><option value="/ref/stable/engine">engine</option><option value="/extension-adinfo/api">extension-adinfo</option><option value="/extension-camera/api">extension-camera</option><option value="/extension-facebook/api">extension-facebook</option><option value="/extension-fbinstant/api">extension-fbinstant</option><option value="/extension-firebase-analytics/api">extension-firebase-analytics</option><option value="/extension-googleplayinstant/api">extension-googleplayinstant</option><option value="/extension-gpgs/api">extension-gpgs</option><option value="/extension-iap/api">extension-iap</option><option value="/extension-push/api">extension-push</option><option value="/extension-review/api">extension-review</option><option value="/extension-siwa/api">extension-siwa</option><option value="/extension-webmonetization/api">extension-webmonetization</option><option value="/extension-websocket/api">extension-websocket</option><option value="/extension-webview/api">extension-webview</option><option value="/ref/stable/factory">factory</option><option value="/ref/stable/go">go</option><option value="/ref/stable/gui">gui</option><option value="/ref/stable/html5">html5</option><option value="/ref/stable/http">http</option><option value="/ref/stable/image">image</option><option value="/ref/stable/io">io</option><option value="/ref/stable/json">json</option><option value="/ref/stable/label">label</option><option value="/ref/stable/math">math</option><option value="/ref/stable/model">model</option><option value="/ref/stable/msg">msg</option><option value="/ref/stable/os">os</option><option value="/ref/stable/package">package</option><option value="/ref/stable/particlefx">particlefx</option><option value="/ref/stable/physics">physics</option><option value="/ref/stable/profiler">profiler</option><option value="/ref/stable/render">render</option><option value="/ref/stable/resource">resource</option><option value="/ref/stable/sharedlibrary">sharedlibrary</option><option value="/ref/stable/socket">socket</option><option value="/ref/stable/sound">sound</option><option value="/ref/stable/spine">spine</option><option value="/ref/stable/sprite">sprite</option><option value="/ref/stable/string">string</option><option value="/ref/stable/sys">sys</option><option value="/ref/stable/table">table</option><option value="/ref/stable/tilemap">tilemap</option><option value="/ref/stable/timer">timer</option><option value="/ref/stable/vmath">vmath</option><option value="/ref/stable/window">window</option><option value="/ref/stable/zlib">zlib</option></select>
				<select class="navdropdown" onchange="location = this.value;"><option value="/ref/alpha/dmScript/">alpha</option><option value="/ref/beta/dmScript/">beta</option><option value="/ref/stable/dmScript/">stable</option></select>
				&nbsp;
			</div>
			<div class="columns nine ref scrollable"><h2>Sdk script api documentation</h2>
<p>Built-in scripting functions.</p>

<table class="compact">
	<tr>
		<th></th>
		<th></th>
	</tr>
	<tr><td>Namespace:</td>
		<td><code>dmScript</code></td></tr>
	<tr>
		<td>Include:</td>
		<td><code>#include &lt;<a href="https://github.com/defold/defold/blob/dev/engine/dlib/src/dmsdk/script/script.h">dmsdk/script/script.h</a>&gt;</code></td>
	</tr>

</table><table class="compact">
	<tr>
		<th>STRUCTS</th>
		<th></th>
	</tr><tr>
		<td><a href="#dmScript::LuaHBuffer">struct&nbsp;dmScript::LuaHBuffer</a></td>
		<td>Lua wrapper for a dmBuffer::HBuffer</td>
	</tr><tr>
		<td><a href="#dmScript::LuaCallbackInfo">struct&nbsp;dmScript::LuaCallbackInfo</a></td>
		<td>callback info struct</td>
	</tr></table><table class="compact">
	<tr>
		<th>FUNCTIONS</th>
		<th></th>
	</tr><tr>
		<td><a href="#dmScript::Ref:L-table">int&nbsp;dmScript::Ref(lua_State*&nbsp;L, int&nbsp;table)</a></td>
		<td>wrapper for luaL_ref.</td>
	</tr><tr>
		<td><a href="#dmScript::Unref:L-table-reference">void&nbsp;dmScript::Unref(lua_State*&nbsp;L, int&nbsp;table, int&nbsp;reference)</a></td>
		<td>wrapper for luaL_unref.</td>
	</tr><tr>
		<td><a href="#dmScript::GetInstance:L">void&nbsp;dmScript::GetInstance(lua_State*&nbsp;L)</a></td>
		<td>Retrieve current script instance from the global t...</td>
	</tr><tr>
		<td><a href="#dmScript::SetInstance:L">void&nbsp;dmScript::SetInstance(lua_State*&nbsp;L)</a></td>
		<td>Sets the current script instance
Set the value on ...</td>
	</tr><tr>
		<td><a href="#dmScript::IsInstanceValid:L">bool&nbsp;dmScript::IsInstanceValid(lua_State*&nbsp;L)</a></td>
		<td>Check if the script instance in the lua state is v...</td>
	</tr><tr>
		<td><a href="#dmScript::GetMainThread:L">lua_State*&nbsp;dmScript::GetMainThread(lua_State*&nbsp;L)</a></td>
		<td>Retrieve the main thread lua state from any lua st...</td>
	</tr><tr>
		<td><a href="#dmScript::IsBuffer:L-index">boolean&nbsp;dmScript::IsBuffer(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>check if the value is a dmScript::LuaHBuffer</td>
	</tr><tr>
		<td><a href="#dmScript::PushBuffer:L-buffer">void&nbsp;dmScript::PushBuffer(lua_State*&nbsp;L, dmScript::LuaHBuffer&nbsp;buffer)</a></td>
		<td>push a LuaHBuffer onto the supplied lua state</td>
	</tr><tr>
		<td><a href="#dmScript::CheckBuffer:L-index">LuaHBuffer*&nbsp;dmScript::CheckBuffer(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>retrieve a HBuffer from the supplied lua state</td>
	</tr><tr>
		<td><a href="#dmScript::ToVector3:L-index">Vectormath::Aos::Vector3*&nbsp;dmScript::ToVector3(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>get the value at index as a Vectormath::Aos::Vector3*</td>
	</tr><tr>
		<td><a href="#dmScript::IsVector3:L-index">&nbsp;dmScript::IsVector3(&nbsp;L, &nbsp;index)</a></td>
		<td>Check if the value at #index is a Vectormath::Aos:...</td>
	</tr><tr>
		<td><a href="#dmScript::PushVector3:L-v">void&nbsp;dmScript::PushVector3(lua_State*&nbsp;L, Vectormath::Aos::Vector3&nbsp;v)</a></td>
		<td>push a Vectormath::Aos::Vector3 onto the Lua stack</td>
	</tr><tr>
		<td><a href="#dmScript::CheckVector3:L-index">Vectormath::Aos::Vector3*&nbsp;dmScript::CheckVector3(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>check if the value is a Vectormath::Aos::Vector3</td>
	</tr><tr>
		<td><a href="#dmScript::ToVector4:L-index">Vectormath::Aos::Vector4*&nbsp;dmScript::ToVector4(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>get the value at index as a Vectormath::Aos::Vector4*</td>
	</tr><tr>
		<td><a href="#dmScript::IsVector4:L-index">&nbsp;dmScript::IsVector4(&nbsp;L, &nbsp;index)</a></td>
		<td>Check if the value at #index is a Vectormath::Aos:...</td>
	</tr><tr>
		<td><a href="#dmScript::PushVector4:L-v">void&nbsp;dmScript::PushVector4(lua_State*&nbsp;L, Vectormath::Aos::Vector4&nbsp;v)</a></td>
		<td>push a Vectormath::Aos::Vector4 on the stack</td>
	</tr><tr>
		<td><a href="#dmScript::CheckVector4:L-index">Vectormath::Aos::Vector4*&nbsp;dmScript::CheckVector4(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>check if the value is a Vectormath::Aos::Vector3</td>
	</tr><tr>
		<td><a href="#dmScript::ToQuat:L-index">Vectormath::Aos::Quat*&nbsp;dmScript::ToQuat(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>get the value at index as a Vectormath::Aos::Quat*</td>
	</tr><tr>
		<td><a href="#dmScript::PushQuat:L-quat">void&nbsp;dmScript::PushQuat(lua_State*&nbsp;L, Vectormath::Aos::Quat&nbsp;quat)</a></td>
		<td>push a Vectormath::Aos::Quat onto the Lua stack</td>
	</tr><tr>
		<td><a href="#dmScript::CheckQuat:L-index">Vectormath::Aos::Quat*&nbsp;dmScript::CheckQuat(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>check if the value is a Vectormath::Aos::Vector3</td>
	</tr><tr>
		<td><a href="#dmScript::ToMatrix4:L-index">Vectormath::Aos::Matrix4*&nbsp;dmScript::ToMatrix4(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>get the value at index as a Vectormath::Aos::Matrix4*</td>
	</tr><tr>
		<td><a href="#dmScript::PushMatrix4:L-matrix">void&nbsp;dmScript::PushMatrix4(lua_State*&nbsp;L, Vectormath::Aos::Matrix4&nbsp;matrix)</a></td>
		<td>push a Vectormath::Aos::Matrix4 onto the Lua stack</td>
	</tr><tr>
		<td><a href="#dmScript::CheckMatrix4:L-index">Vectormath::Aos::Matrix4*&nbsp;dmScript::CheckMatrix4(lua_State*&nbsp;L, int&nbsp;index)</a></td>
		<td>check if the value is a Vectormath::Aos::Matrix4</td>
	</tr><tr>
		<td><a href="#dmJson::Type:L-doc-index-error_str_out-error_str_size">int&nbsp;dmJson::Type(lua_State*&nbsp;L, dmJson::Document&nbsp;doc, int&nbsp;index, char*&nbsp;error_str_out, size_t&nbsp;error_str_size)</a></td>
		<td>convert a dmJson::Document to a Lua table</td>
	</tr><tr>
		<td><a href="#dmScript::CreateCallback:L-index">&nbsp;dmScript::CreateCallback(&nbsp;L, &nbsp;index)</a></td>
		<td>Register a Lua callback.</td>
	</tr><tr>
		<td><a href="#dmScript::IsCallbackValid:cbk">void&nbsp;dmScript::IsCallbackValid(&nbsp;cbk)</a></td>
		<td>Check if Lua callback is valid.</td>
	</tr><tr>
		<td><a href="#dmScript::DestroyCallback:cbk">void&nbsp;dmScript::DestroyCallback(&nbsp;cbk)</a></td>
		<td>Deletes the Lua callback</td>
	</tr><tr>
		<td><a href="#dmScript::GetCallbackLuaContext:cbk">&nbsp;dmScript::GetCallbackLuaContext(&nbsp;cbk)</a></td>
		<td>Gets the Lua context from a callback struct</td>
	</tr><tr>
		<td><a href="#dmScript::SetupCallback:cbk">&nbsp;dmScript::SetupCallback(&nbsp;cbk)</a></td>
		<td>Setups up the Lua callback prior to a call to dmScript::PCall()</td>
	</tr><tr>
		<td><a href="#dmScript::TeardownCallback:cbk">void&nbsp;dmScript::TeardownCallback(&nbsp;cbk)</a></td>
		<td>Cleans up the stack after SetupCallback+PCall calls</td>
	</tr><tr>
		<td><a href="#dmScript::PCall:L-nargs-nresult">&nbsp;dmScript::PCall(&nbsp;L, &nbsp;nargs, &nbsp;nresult)</a></td>
		<td>This function wraps lua_pcall with the addition of...</td>
	</tr></table><table class="compact">
	<tr>
		<th>MACROS</th>
		<th></th>
	</tr><tr>
		<td><a href="#dmScript::PCall:L-nargs-nresult">DM_LUA_STACK_CHECK(L,&nbspdiff)</a></td>
		<td>helper macro to validate the Lua stack state before leaving a function.</td>
	</tr><tr>
		<td><a href="#dmScript::PCall:L-nargs-nresult">DM_LUA_ERROR(fmt,&nbspargs)</a></td>
		<td>helper macro to validate the Lua stack state and throw a lua error.</td>
	</tr></table><h2>Functions</h2><a name="dmScript::Ref:L-table"/>
		<h4>dmScript::Ref<a href="#dmScript::Ref:L-table" class="anchor-link"></a></h4>
			<p><code>int&nbsp;dmScript::Ref(lua_State*&nbsp;L, int&nbsp;table)</code><p>

    Creates and returns a reference, in the table at index t, for the object at the
top of the stack (and pops the object).
It also tracks number of global references kept.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr><tr><td><code>int</code></td>
                <td><code>table</code></td>
                <td>table the lua table that stores the references. E.g LUA_REGISTRYINDEX</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>int</code></td>
                <td>the new reference</td>
            </tr></table><hr/><a name="dmScript::Unref:L-table-reference"/>
		<h4>dmScript::Unref<a href="#dmScript::Unref:L-table-reference" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::Unref(lua_State*&nbsp;L, int&nbsp;table, int&nbsp;reference)</code><p>

    Releases reference ref from the table at index t (see luaL_ref).
The entry is removed from the table, so that the referred object can be collected.
It also decreases the number of global references kept
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr><tr><td><code>int</code></td>
                <td><code>table</code></td>
                <td>table the lua table that stores the references. E.g LUA_REGISTRYINDEX</td></tr><tr><td><code>int</code></td>
                <td><code>reference</code></td>
                <td>the reference to the object</td></tr></table><hr/><a name="dmScript::GetInstance:L"/>
		<h4>dmScript::GetInstance<a href="#dmScript::GetInstance:L" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::GetInstance(lua_State*&nbsp;L)</code><p>

    Retrieve current script instance from the global table and place it on the top of the stack, only valid when set.
(see <a href="#dmScript::GetMainThread">dmScript::GetMainThread</a>)
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr></table><hr/><a name="dmScript::SetInstance:L"/>
		<h4>dmScript::SetInstance<a href="#dmScript::SetInstance:L" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::SetInstance(lua_State*&nbsp;L)</code><p>

    Sets the current script instance
Set the value on the top of the stack as the instance into the global table and pops it from the stack.
(see <a href="#dmScript::GetMainThread">dmScript::GetMainThread</a>)
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr></table><hr/><a name="dmScript::IsInstanceValid:L"/>
		<h4>dmScript::IsInstanceValid<a href="#dmScript::IsInstanceValid:L" class="anchor-link"></a></h4>
			<p><code>bool&nbsp;dmScript::IsInstanceValid(lua_State*&nbsp;L)</code><p>

    Check if the script instance in the lua state is valid. The instance is assumed to have been previously set by <a href="#dmScript::SetInstance">dmScript::SetInstance</a>.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>bool</code></td>
                <td>Returns true if the instance is valid</td>
            </tr></table><hr/><a name="dmScript::GetMainThread:L"/>
		<h4>dmScript::GetMainThread<a href="#dmScript::GetMainThread:L" class="anchor-link"></a></h4>
			<p><code>lua_State*&nbsp;dmScript::GetMainThread(lua_State*&nbsp;L)</code><p>

    Retrieve the main thread lua state from any lua state (main thread or coroutine).
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>lua_State*</code></td>
                <td>the main thread lua state</td>
            </tr></table><p><b>EXAMPLES</b></p>
    How to create a Lua callback
<div class="codehilite"><pre><span></span><span class="n">dmScript</span><span class="o">::</span><span class="n">LuaCallbackInfo</span><span class="o">*</span> <span class="n">g_MyCallbackInfo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">InvokeCallback</span><span class="p">(</span><span class="n">dmScript</span><span class="o">::</span><span class="n">LuaCallbackInfo</span><span class="o">*</span> <span class="n">cbk</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">dmScript</span><span class="o">::</span><span class="n">IsCallbackValid</span><span class="p">(</span><span class="n">cbk</span><span class="p">))</span>
        <span class="k">return</span><span class="p">;</span>

    <span class="n">lua_State</span><span class="o">*</span> <span class="n">L</span> <span class="o">=</span> <span class="n">dmScript</span><span class="o">::</span><span class="n">GetCallbackLuaContext</span><span class="p">(</span><span class="n">cbk</span><span class="p">);</span>
    <span class="n">DM_LUA_STACK_CHECK</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">dmScript</span><span class="o">::</span><span class="n">SetupCallback</span><span class="p">(</span><span class="n">cbk</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="n">dmLogError</span><span class="p">(</span><span class="s">&quot;Failed to setup callback&quot;</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">lua_pushstring</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="s">&quot;Hello from extension!&quot;</span><span class="p">);</span>
    <span class="n">lua_pushnumber</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">76</span><span class="p">);</span>

    <span class="n">dmScript</span><span class="o">::</span><span class="n">PCall</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// instance + 2</span>

    <span class="n">dmScript</span><span class="o">::</span><span class="n">TeardownCallback</span><span class="p">(</span><span class="n">cbk</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">Start</span><span class="p">(</span><span class="n">lua_State</span><span class="o">*</span> <span class="n">L</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DM_LUA_STACK_CHECK</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

    <span class="n">g_MyCallbackInfo</span> <span class="o">=</span> <span class="n">dmScript</span><span class="o">::</span><span class="n">CreateCallback</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">Update</span><span class="p">(</span><span class="n">lua_State</span><span class="o">*</span> <span class="n">L</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DM_LUA_STACK_CHECK</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

    <span class="k">static</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">count</span><span class="o">++</span> <span class="o">==</span> <span class="mi">5</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">InvokeCallback</span><span class="p">(</span><span class="n">g_MyCallbackInfo</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">g_MyCallbackInfo</span><span class="p">)</span>
            <span class="n">dmScript</span><span class="o">::</span><span class="n">DestroyCallback</span><span class="p">(</span><span class="n">g_MyCallbackInfo</span><span class="p">);</span>
        <span class="n">g_MyCallbackInfo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div><hr/><a name="dmScript::IsBuffer:L-index"/>
		<h4>dmScript::IsBuffer<a href="#dmScript::IsBuffer:L-index" class="anchor-link"></a></h4>
			<p><code>boolean&nbsp;dmScript::IsBuffer(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Check if the value is a dmScript::LuaHBuffer
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>boolean</code></td>
                <td>True if value at index is a LuaHBuffer</td>
            </tr></table><hr/><a name="dmScript::PushBuffer:L-buffer"/>
		<h4>dmScript::PushBuffer<a href="#dmScript::PushBuffer:L-buffer" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::PushBuffer(lua_State*&nbsp;L, dmScript::LuaHBuffer&nbsp;buffer)</code><p>

    Will increase the stack by 1.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr><tr><td><code>dmScript::LuaHBuffer</code></td>
                <td><code>buffer</code></td>
                <td>buffer to push</td></tr></table><p><b>EXAMPLES</b></p>
    How to push a buffer and give Lua ownership of the buffer (GC)
<div class="codehilite"><pre><span></span><span class="n">dmScript</span><span class="o">::</span><span class="n">LuaHBuffer</span> <span class="n">luabuf</span> <span class="o">=</span> <span class="p">{</span> <span class="n">buffer</span><span class="p">,</span> <span class="n">dmScript</span><span class="o">::</span><span class="n">OWNER_LUA</span> <span class="p">};</span>
<span class="n">PushBuffer</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">luabuf</span><span class="p">);</span>
</pre></div>


How to push a buffer and keep ownership in C++
<div class="codehilite"><pre><span></span><span class="n">dmScript</span><span class="o">::</span><span class="n">LuaHBuffer</span> <span class="n">luabuf</span> <span class="o">=</span> <span class="p">{</span> <span class="n">buffer</span><span class="p">,</span> <span class="n">dmScript</span><span class="o">::</span><span class="n">OWNER_C</span> <span class="p">};</span>
<span class="n">PushBuffer</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">luabuf</span><span class="p">);</span>
</pre></div><hr/><a name="dmScript::CheckBuffer:L-index"/>
		<h4>dmScript::CheckBuffer<a href="#dmScript::CheckBuffer:L-index" class="anchor-link"></a></h4>
			<p><code>LuaHBuffer*&nbsp;dmScript::CheckBuffer(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Check if the value in the supplied index on the lua stack is a HBuffer and returns it.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>LuaHBuffer*</code></td>
                <td>pointer to dmScript::LuaHBuffer</td>
            </tr></table><hr/><a name="dmScript::ToVector3:L-index"/>
		<h4>dmScript::ToVector3<a href="#dmScript::ToVector3:L-index" class="anchor-link"></a></h4>
			<p><code>Vectormath::Aos::Vector3*&nbsp;dmScript::ToVector3(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Get the value at index as a Vectormath::Aos::Vector3*
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>Vectormath::Aos::Vector3*</code></td>
                <td>The pointer to the value, or 0 if not correct type</td>
            </tr></table><hr/><a name="dmScript::IsVector3:L-index"/>
		<h4>dmScript::IsVector3<a href="#dmScript::IsVector3:L-index" class="anchor-link"></a></h4>
			<p><code>&nbsp;dmScript::IsVector3(&nbsp;L, &nbsp;index)</code><p>

    Check if the value at #index is a Vectormath::Aos::Vector3*
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code></code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code></code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code></code></td>
                <td>if value at #index is a Vectormath::Aos::Vector3*</td>
            </tr></table><hr/><a name="dmScript::PushVector3:L-v"/>
		<h4>dmScript::PushVector3<a href="#dmScript::PushVector3:L-v" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::PushVector3(lua_State*&nbsp;L, Vectormath::Aos::Vector3&nbsp;v)</code><p>

    Push a Vectormath::Aos::Vector3 value onto the supplied lua state, will increase the stack by 1.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>Vectormath::Aos::Vector3</code></td>
                <td><code>v</code></td>
                <td>Vector3 value to push</td></tr></table><hr/><a name="dmScript::CheckVector3:L-index"/>
		<h4>dmScript::CheckVector3<a href="#dmScript::CheckVector3:L-index" class="anchor-link"></a></h4>
			<p><code>Vectormath::Aos::Vector3*&nbsp;dmScript::CheckVector3(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Check if the value in the supplied index on the lua stack is a Vectormath::Aos::Vector3.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>Vectormath::Aos::Vector3*</code></td>
                <td>The pointer to the value</td>
            </tr></table><hr/><a name="dmScript::ToVector4:L-index"/>
		<h4>dmScript::ToVector4<a href="#dmScript::ToVector4:L-index" class="anchor-link"></a></h4>
			<p><code>Vectormath::Aos::Vector4*&nbsp;dmScript::ToVector4(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Get the value at index as a Vectormath::Aos::Vector4*
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>Vectormath::Aos::Vector4*</code></td>
                <td>The pointer to the value, or 0 if not correct type</td>
            </tr></table><hr/><a name="dmScript::IsVector4:L-index"/>
		<h4>dmScript::IsVector4<a href="#dmScript::IsVector4:L-index" class="anchor-link"></a></h4>
			<p><code>&nbsp;dmScript::IsVector4(&nbsp;L, &nbsp;index)</code><p>

    Check if the value at #index is a Vectormath::Aos::Vector4*
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code></code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code></code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code></code></td>
                <td>if value at #index is a Vectormath::Aos::Vector4*</td>
            </tr></table><hr/><a name="dmScript::PushVector4:L-v"/>
		<h4>dmScript::PushVector4<a href="#dmScript::PushVector4:L-v" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::PushVector4(lua_State*&nbsp;L, Vectormath::Aos::Vector4&nbsp;v)</code><p>

    Push a Vectormath::Aos::Vector4 value onto the supplied lua state, will increase the stack by 1.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>Vectormath::Aos::Vector4</code></td>
                <td><code>v</code></td>
                <td>Vectormath::Aos::Vector4 value to push</td></tr></table><hr/><a name="dmScript::CheckVector4:L-index"/>
		<h4>dmScript::CheckVector4<a href="#dmScript::CheckVector4:L-index" class="anchor-link"></a></h4>
			<p><code>Vectormath::Aos::Vector4*&nbsp;dmScript::CheckVector4(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Check if the value in the supplied index on the lua stack is a Vectormath::Aos::Vector3.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>Vectormath::Aos::Vector4*</code></td>
                <td>The pointer to the value</td>
            </tr></table><hr/><a name="dmScript::ToQuat:L-index"/>
		<h4>dmScript::ToQuat<a href="#dmScript::ToQuat:L-index" class="anchor-link"></a></h4>
			<p><code>Vectormath::Aos::Quat*&nbsp;dmScript::ToQuat(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Get the value at index as a Vectormath::Aos::Quat*
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>Vectormath::Aos::Quat*</code></td>
                <td>The pointer to the value, or 0 if not correct type</td>
            </tr></table><hr/><a name="dmScript::PushQuat:L-quat"/>
		<h4>dmScript::PushQuat<a href="#dmScript::PushQuat:L-quat" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::PushQuat(lua_State*&nbsp;L, Vectormath::Aos::Quat&nbsp;quat)</code><p>

    Push a quaternion value onto Lua stack. Will increase the stack by 1.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>Vectormath::Aos::Quat</code></td>
                <td><code>quat</code></td>
                <td>Vectormath::Aos::Quat value to push</td></tr></table><hr/><a name="dmScript::CheckQuat:L-index"/>
		<h4>dmScript::CheckQuat<a href="#dmScript::CheckQuat:L-index" class="anchor-link"></a></h4>
			<p><code>Vectormath::Aos::Quat*&nbsp;dmScript::CheckQuat(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Check if the value in the supplied index on the lua stack is a Vectormath::Aos::Quat.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>Vectormath::Aos::Quat*</code></td>
                <td>The pointer to the value</td>
            </tr></table><hr/><a name="dmScript::ToMatrix4:L-index"/>
		<h4>dmScript::ToMatrix4<a href="#dmScript::ToMatrix4:L-index" class="anchor-link"></a></h4>
			<p><code>Vectormath::Aos::Matrix4*&nbsp;dmScript::ToMatrix4(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Get the value at index as a Vectormath::Aos::Matrix4*
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>Vectormath::Aos::Matrix4*</code></td>
                <td>The pointer to the value, or 0 if not correct type</td>
            </tr></table><hr/><a name="dmScript::PushMatrix4:L-matrix"/>
		<h4>dmScript::PushMatrix4<a href="#dmScript::PushMatrix4:L-matrix" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::PushMatrix4(lua_State*&nbsp;L, Vectormath::Aos::Matrix4&nbsp;matrix)</code><p>

    Push a matrix4 value onto the Lua stack. Will increase the stack by 1.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>Vectormath::Aos::Matrix4</code></td>
                <td><code>matrix</code></td>
                <td>Vectormath::Aos::Matrix4 value to push</td></tr></table><hr/><a name="dmScript::CheckMatrix4:L-index"/>
		<h4>dmScript::CheckMatrix4<a href="#dmScript::CheckMatrix4:L-index" class="anchor-link"></a></h4>
			<p><code>Vectormath::Aos::Matrix4*&nbsp;dmScript::CheckMatrix4(lua_State*&nbsp;L, int&nbsp;index)</code><p>

    Check if the value in the supplied index on the lua stack is a Vectormath::Aos::Matrix4.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>Index of the value</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>Vectormath::Aos::Matrix4*</code></td>
                <td>The pointer to the value</td>
            </tr></table><hr/><a name="dmJson::Type:L-doc-index-error_str_out-error_str_size"/>
		<h4>dmJson::Type<a href="#dmJson::Type:L-doc-index-error_str_out-error_str_size" class="anchor-link"></a></h4>
			<p><code>int&nbsp;dmJson::Type(lua_State*&nbsp;L, dmJson::Document&nbsp;doc, int&nbsp;index, char*&nbsp;error_str_out, size_t&nbsp;error_str_size)</code><p>

    Convert a dmJson::Document document to Lua table.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code>lua_State*</code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr><tr><td><code>dmJson::Document</code></td>
                <td><code>doc</code></td>
                <td>JSON document</td></tr><tr><td><code>int</code></td>
                <td><code>index</code></td>
                <td>index of JSON node</td></tr><tr><td><code>char*</code></td>
                <td><code>error_str_out</code></td>
                <td>if an error is encountered, the error string is written to this argument</td></tr><tr><td><code>size_t</code></td>
                <td><code>error_str_size</code></td>
                <td>size of error_str_out</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code>int</code></td>
                <td>&lt;0 if it fails. &gt;=0 if it succeeds.</td>
            </tr></table><hr/><a name="dmScript::CreateCallback:L-index"/>
		<h4>dmScript::CreateCallback<a href="#dmScript::CreateCallback:L-index" class="anchor-link"></a></h4>
			<p><code>&nbsp;dmScript::CreateCallback(&nbsp;L, &nbsp;index)</code><p>

    Stores the current Lua state plus references to the script instance (self) and the callback.
Expects SetInstance() to have been called prior to using this method.
The allocated data is created on the Lua stack and references are made against the
instances own context table.
If the callback is not explicitly deleted with DestroyCallback() the references and
data will stay around until the script instance is deleted.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code></code></td>
                <td><code>L</code></td>
                <td>Lua state</td></tr><tr><td><code></code></td>
                <td><code>index</code></td>
                <td>Lua stack index of the function</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code></code></td>
                <td>callback struct if successful, 0 otherwise</td>
            </tr></table><p><b>EXAMPLES</b></p>
    <div class="codehilite"><pre><span></span><span class="k">static</span> <span class="kt">int</span> <span class="nf">SomeFunction</span><span class="p">(</span><span class="n">lua_State</span><span class="o">*</span> <span class="n">L</span><span class="p">)</span> <span class="c1">// called from Lua</span>
<span class="p">{</span>
    <span class="n">LuaCallbackInfo</span><span class="o">*</span> <span class="n">cbk</span> <span class="o">=</span> <span class="n">dmScript</span><span class="o">::</span><span class="n">CreateCallback</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">...</span> <span class="n">store</span> <span class="n">the</span> <span class="n">callback</span> <span class="k">for</span> <span class="n">later</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">InvokeCallback</span><span class="p">(</span><span class="n">LuaCallbackInfo</span><span class="o">*</span> <span class="n">cbk</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">lua_State</span><span class="o">*</span> <span class="n">L</span> <span class="o">=</span> <span class="n">dmScript</span><span class="o">::</span><span class="n">GetCallbackLuaContext</span><span class="p">(</span><span class="n">cbk</span><span class="p">);</span>
    <span class="n">DM_LUA_STACK_CHECK</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">dmScript</span><span class="o">::</span><span class="n">SetupCallback</span><span class="p">(</span><span class="n">callback</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">lua_pushstring</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="s">&quot;hello&quot;</span><span class="p">);</span>

    <span class="n">dmScript</span><span class="o">::</span><span class="n">PCall</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// self + # user arguments</span>

    <span class="n">dmScript</span><span class="o">::</span><span class="n">TeardownCallback</span><span class="p">(</span><span class="n">callback</span><span class="p">);</span>
    <span class="n">dmScript</span><span class="o">::</span><span class="n">DestroyCallback</span><span class="p">(</span><span class="n">cbk</span><span class="p">);</span> <span class="c1">// only do this if you&#39;re not using the callback again</span>
<span class="p">}</span>
</pre></div><hr/><a name="dmScript::IsCallbackValid:cbk"/>
		<h4>dmScript::IsCallbackValid<a href="#dmScript::IsCallbackValid:cbk" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::IsCallbackValid(&nbsp;cbk)</code><p>

    Check if Lua callback is valid.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code></code></td>
                <td><code>cbk</code></td>
                <td>Lua callback struct</td></tr></table><hr/><a name="dmScript::DestroyCallback:cbk"/>
		<h4>dmScript::DestroyCallback<a href="#dmScript::DestroyCallback:cbk" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::DestroyCallback(&nbsp;cbk)</code><p>

    Deletes the Lua callback
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code></code></td>
                <td><code>cbk</code></td>
                <td>Lua callback struct</td></tr></table><hr/><a name="dmScript::GetCallbackLuaContext:cbk"/>
		<h4>dmScript::GetCallbackLuaContext<a href="#dmScript::GetCallbackLuaContext:cbk" class="anchor-link"></a></h4>
			<p><code>&nbsp;dmScript::GetCallbackLuaContext(&nbsp;cbk)</code><p>

    Gets the Lua context from a callback struct
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code></code></td>
                <td><code>cbk</code></td>
                <td>Lua callback struct</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code></code></td>
                <td>Lua state</td>
            </tr></table><hr/><a name="dmScript::SetupCallback:cbk"/>
		<h4>dmScript::SetupCallback<a href="#dmScript::SetupCallback:cbk" class="anchor-link"></a></h4>
			<p><code>&nbsp;dmScript::SetupCallback(&nbsp;cbk)</code><p>

    The Lua stack after a successful call:
<div class="codehilite"><pre><span></span>   [-4] old instance
   [-3] context table
   [-2] callback
   [-1] self
</pre></div>


In the event of an unsuccessful call, the Lua stack is unchanged
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code></code></td>
                <td><code>cbk</code></td>
                <td>Lua callback struct</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code></code></td>
                <td>if the setup was successful</td>
            </tr></table><hr/><a name="dmScript::TeardownCallback:cbk"/>
		<h4>dmScript::TeardownCallback<a href="#dmScript::TeardownCallback:cbk" class="anchor-link"></a></h4>
			<p><code>void&nbsp;dmScript::TeardownCallback(&nbsp;cbk)</code><p>

    Sets the previous instance
Expects Lua stack:
<div class="codehilite"><pre><span></span>   [-2] old instance
   [-1] context table
</pre></div>


Both values are removed from the stack
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code></code></td>
                <td><code>cbk</code></td>
                <td>Lua callback struct</td></tr></table><hr/><a name="dmScript::PCall:L-nargs-nresult"/>
		<h4>dmScript::PCall<a href="#dmScript::PCall:L-nargs-nresult" class="anchor-link"></a></h4>
			<p><code>&nbsp;dmScript::PCall(&nbsp;L, &nbsp;nargs, &nbsp;nresult)</code><p>

    This function wraps lua_pcall with the addition of specifying an error handler which produces a backtrace.
In the case of an error, the error is logged and popped from the stack.
    <p><b>PARAMETERS</b></p>
    <table><tr><td><code></code></td>
                <td><code>L</code></td>
                <td>lua state</td></tr><tr><td><code></code></td>
                <td><code>nargs</code></td>
                <td>number of arguments</td></tr><tr><td><code></code></td>
                <td><code>nresult</code></td>
                <td>number of results</td></tr></table><p><b>RETURNS</b></p>
    <table><tr>
                <td><code></code></td>
                <td>code from pcall</td>
            </tr></table><hr/><h2>Structs</h2><a name="dmScript::LuaHBuffer"/>
	<h4>dmScript::LuaHBuffer<a href="#dmScript::LuaHBuffer"><span class="anchor-link"/></a></h4>

		<p>
        <p><b>TYPE</b></p>
        <code>struct&nbsp;dmScript::LuaHBuffer</code><br>
    </p>

    <p>Holds info about the buffer and who owns it.</p><p><b>MEMBERS</b><table><tr>
            <td><code>dmBuffer::HBuffer</code></td>
            <td><code>m_Buffer</code></td>
            <td>The buffer (or resource)</td>
        </tr><tr>
            <td><code>dmScript::LuaBufferOwnership</code></td>
            <td><code>m_Owner</code></td>
            <td>What ownership the pointer has</td>
        </tr></table></p>

	<hr/><a name="dmScript::LuaCallbackInfo"/>
	<h4>dmScript::LuaCallbackInfo<a href="#dmScript::LuaCallbackInfo"><span class="anchor-link"/></a></h4>

		<p>
        <p><b>TYPE</b></p>
        <code>struct&nbsp;dmScript::LuaCallbackInfo</code><br>
    </p>

    <p>callback info struct that will hold the relevant info needed to make a callback into Lua</p>

	<hr/><h2>Macros</h2><a name="DM_LUA_STACK_CHECK"/>
	<h4>DM_LUA_STACK_CHECK<a href="#DM_LUA_STACK_CHECK"><span class="anchor-link"/></a></h4>
	<p>helper macro to validate the Lua stack state before leaving a function.</p>
	<p>Diff is the expected difference of the stack size.
If luaL_error, or another function that executes a long-jump, is part of the executed code,
the stack guard cannot be guaranteed to execute at the end of the function.
In that case you should manually check the stack using <code>lua_gettop</code>.
In the case of luaL_error, see <a href="#DM_LUA_ERROR">DM_LUA_ERROR</a>.</p><table><tr>
		<td><code>L</code></td>
		<td>lua state</td>
	</tr><tr>
		<td><code>diff</code></td>
		<td>Number of expected items to be on the Lua stack once this struct goes out of scope</td>
	</tr></table><p><b>EXAMPLES</b></p>
	<div class="codehilite"><pre><span></span><span class="n">DM_LUA_STACK_CHECK</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="n">lua_pushnumber</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>
</pre></div><hr/><a name="DM_LUA_ERROR"/>
	<h4>DM_LUA_ERROR<a href="#DM_LUA_ERROR"><span class="anchor-link"/></a></h4>
	<p>helper macro to validate the Lua stack state and throw a lua error.</p>
	<p>This macro will verify that the Lua stack size hasn't been changed before
throwing a Lua error, which will long-jump out of the current function.
This macro can only be used together with <a href="#DM_LUA_STACK_CHECK">DM_LUA_STACK_CHECK</a> and should
be prefered over manual checking of the stack.</p><table><tr>
		<td><code>fmt</code></td>
		<td>Format string that contains error information.</td>
	</tr><tr>
		<td><code>args</code></td>
		<td>Format string args (variable arg list)</td>
	</tr></table><p><b>EXAMPLES</b></p>
	<div class="codehilite"><pre><span></span><span class="k">static</span> <span class="kt">int</span> <span class="nf">ModuleFunc</span><span class="p">(</span><span class="n">lua_State</span><span class="o">*</span> <span class="n">L</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DM_LUA_STACK_CHECK</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">some_error_check</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">DM_LUA_ERROR</span><span class="p">(</span><span class="s">&quot;some error message&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">lua_pushnumber</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div><hr/></div>
		</div>
	</div>
</div><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js"></script>
<script>
	var query = new URLSearchParams(window.location.search).get('q');
	if (query) {
		var instance = new Mark("div.ref");
		instance.mark(query);
		var elements = document.getElementsByTagName("mark");
		if (elements.length > 0) {
			elements[0].scrollIntoView();
		}
	}
</script>
<script type="text/javascript">
	var menu = document.getElementById("navmenu");
	if (menu != null) {
		var viewportOffset = menu.getBoundingClientRect();
		window.onscroll = function() {
			if (window.pageYOffset > viewportOffset.top) {
				menu.classList.add("sticky");
			}
			else {
				menu.classList.remove("sticky");
			}
		};
	}
</script>

	</div>

	<footer class="darkest">
	<div class="container">
		<div class="row">
			<div class="two columns">
				<p><b>DEFOLD</b></p>
				<ul>
					<li><a href="/about">About</a></li>
					<li><a href="/contact">Contact</a></li>
					<li><a href="/foundation">Foundation</a></li>
					<li><a href="/faq/faq">FAQ</a></li>
				</ul>
			</div>
			<div class="two columns">
				<p><b>NEWS</b></p>
				<ul>
					<li><a href="/press">Press</a></li>
					<li><a href="/blog">Blog</a></li>
					<li><a href="/newsletter">Newsletter</a></li>
					<li><a href="https://forum.defold.com/c/releasenotes">Release announcements</a></li>
				</ul>
			</div>
			<div class="two columns">
				<p><b>GET INVOLVED</b></p>
				<ul>
					<li><a href="/open">Open&nbsp;Source</a></li>
					<li><a href="/donate">Donate</a></li>
					<li><a href="/contribute">Contribute</a></li>
				</ul>
			</div>
			<div class="two columns">
				<p><b>LEARN</b></p>
				<ul>
					<li><a href="/ref/go">API</a></li>
					<li><a href="/examples">Examples</a></li>
					<li><a href="/manuals/introduction">Manuals</a></li>
					<li><a href="/tutorials">Tutorials</a></li>
				</ul>
			</div>
			<div class="two columns">
				<p><b>COMMUNITY</b></p>
				<ul>
					<li><a href="https://forum.defold.com" target="_blank">Forum</a></li>
					<li><a href="/slack">Slack</a></li>
					<li><a href="https://www.facebook.com/Defold" target="_blank">Facebook</a></li>
					<li><a href="https://twitter.com/defold" target="_blank">Twitter</a></li>
					<li><a href="https://www.linkedin.com/company/defold-foundation" target="_blank">LinkedIn</a></li>
				</ul>
			</div>
			<div class="two columns">
				<p><b>LEGAL</b></p>
				<ul>
					<li><a href="/license">License</a></li>
					<li><a href="/logo-and-trademark">Logo &amp; Trademark</a></li>
					<li><a href="/terms-and-conditions">Terms &amp; Conditions</a></li>
					<li><a href="/privacy-policy">Privacy Policy</a></li>
				</ul>
			</div>
		</div>
		<div class="row">
			<p>Copyright Â© 2021 Defold Foundation</p>
		</div>
	</div>
</footer>

</div>
</body>
</html>
